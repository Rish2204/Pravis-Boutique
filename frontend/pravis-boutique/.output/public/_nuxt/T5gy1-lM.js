import{_ as w,F as b,G as v,A as e,y as g,E as c,H as p,I as m,J as u,K as h,T as k,z as d,L as f}from"./DBYIVJur.js";import{_ as x}from"./DlAUqK2U.js";const C={name:"ConsentDialog",emits:["consent-decided"],data(){return{showDialog:!1,consent:null,logoSrc:"/pravis-logo.png",logoError:!1}},mounted(){localStorage.getItem("pravis-consent")||(this.showDialog=!0)},methods:{async submitConsent(){if(!this.consent)return;const t={consent:this.consent==="accept",timestamp:new Date().toISOString(),version:"1.0",userAgent:navigator.userAgent,language:navigator.language};localStorage.setItem("pravis-consent",JSON.stringify(t));try{await $fetch("/api/analytics/consent",{method:"POST",body:t})}catch(o){console.error("Failed to log consent:",o)}this.consent==="accept"&&await this.initializeAnalytics(),this.$emit("consent-decided",t),this.showDialog=!1},async initializeAnalytics(){typeof window<"u"&&window.gtag&&window.gtag("consent","update",{analytics_storage:"granted"});const{useAnalytics:t}=await w(async()=>{const{useAnalytics:l}=await import("./DBYIVJur.js").then(r=>r.M);return{useAnalytics:l}},[],import.meta.url);t().init()},closeDialog(){this.consent&&this.submitConsent()},handleLogoError(t){console.error("ConsentDialog logo failed to load:",t),this.logoError=!0},handleLogoLoad(t){console.log("ConsentDialog logo loaded successfully"),this.logoError=!1}}},A={class:"consent-card"},D={class:"pravis-header"},L={class:"logo-container"},E=["src"],P={key:0,class:"logo-fallback"},S={class:"radio-group"},I=["disabled"];function _(t,o,l,r,n,s){return n.showDialog?(d(),b(k,{key:0,to:"body"},[e("div",{class:"consent-overlay",onClick:o[7]||(o[7]=p((...a)=>s.closeDialog&&s.closeDialog(...a),["self"]))},[o[14]||(o[14]=e("div",{class:"background-logo"},null,-1)),e("div",A,[e("div",D,[e("div",L,[e("img",{src:n.logoSrc,alt:"Pravis Handlooms",class:"pravis-logo",onError:o[0]||(o[0]=(...a)=>s.handleLogoError&&s.handleLogoError(...a)),onLoad:o[1]||(o[1]=(...a)=>s.handleLogoLoad&&s.handleLogoLoad(...a))},null,40,E),n.logoError?(d(),g("div",P,"P")):v("",!0)]),o[8]||(o[8]=e("h1",{class:"pravis-title"},"Welcome to Pravis Handlooms!",-1)),o[9]||(o[9]=e("div",{class:"handloom-icon"},"üßµ",-1))]),o[12]||(o[12]=e("div",{class:"disclaimer-text"},[e("strong",null,"A Friendly Disclaimer:"),c(" This App comes with an AI Agent called "),e("span",{class:"agent-highlight"},'"Ask Pravi"'),c(". This agent collects data and feedback for training purposes to help you discover beautiful handloom creations. Should you choose to accept. ")],-1)),e("form",{onSubmit:o[6]||(o[6]=p((...a)=>s.submitConsent&&s.submitConsent(...a),["prevent"])),class:"consent-form"},[e("div",S,[e("div",{class:m(["radio-option",{selected:n.consent==="accept"}]),onClick:o[3]||(o[3]=a=>n.consent="accept")},[u(e("input",{type:"radio",id:"accept",value:"accept","onUpdate:modelValue":o[2]||(o[2]=a=>n.consent=a)},null,512),[[h,n.consent]]),o[10]||(o[10]=e("label",{for:"accept",class:"option-label"},[e("span",{class:"option-main"},"Sure, Why not!"),e("span",{class:"option-sub"},"Help us curate perfect handloom pieces for you")],-1))],2),e("div",{class:m(["radio-option",{selected:n.consent==="decline"}]),onClick:o[5]||(o[5]=a=>n.consent="decline")},[u(e("input",{type:"radio",id:"decline",value:"decline","onUpdate:modelValue":o[4]||(o[4]=a=>n.consent=a)},null,512),[[h,n.consent]]),o[11]||(o[11]=e("label",{for:"decline",class:"option-label"},[e("span",{class:"option-main"},"Maybe, Not right now!"),e("span",{class:"option-sub"},"Browse handlooms without personalization")],-1))],2)]),e("button",{type:"submit",disabled:!n.consent,class:"submit-button"}," Let's Shop! üõçÔ∏è ",8,I)],32),o[13]||(o[13]=e("div",{class:"privacy-links"},[e("a",{href:"/privacy"},"Privacy Policy"),c(" ‚Ä¢ "),e("a",{href:"/terms"},"Terms of Service")],-1))])])])):v("",!0)}const y=x(C,[["render",_],["__scopeId","data-v-9fa2cd6e"]]),V={components:{ConsentDialog:y},data(){return{showConsentDialog:!0,logoSrc:"/pravis-logo.png",logoError:!1}},mounted(){localStorage.getItem("pravis-consent")&&(this.showConsentDialog=!1)},methods:{handleConsent(t){console.log("Consent decision:",t),this.showConsentDialog=!1,t.consent?console.log("User consented - analytics initialized"):console.log("User declined - no analytics")},activateVoiceAgent(){console.log("Ask Pravi voice agent activated!"),alert(`üßµ Ask Pravi: "Namaste! I'm here to help you discover beautiful handloom pieces. What style are you looking for today?"`)},handleLogoError(t){console.error("Logo failed to load:",t),this.logoError=!0,t.target.style.display="none";const o=t.target.parentElement;if(!o.querySelector(".logo-fallback")){const l=document.createElement("div");l.className="logo-fallback text-6xl font-bold text-white",l.textContent="P",l.style.cssText=`
          display: flex;
          align-items: center;
          justify-content: center;
          width: 100%;
          height: 100%;
        `,o.appendChild(l)}},handleLogoLoad(t){console.log("Logo loaded successfully"),this.logoError=!1}}},T={key:1,class:"min-h-screen bg-white"},H={class:"hero-section"},N={class:"container mx-auto px-4 py-20 text-center relative"},z={class:"logo-showcase mb-8"},B=["src"];function M(t,o,l,r,n,s){const a=y;return d(),g("div",null,[n.showConsentDialog?(d(),b(a,{key:0,onConsentDecided:s.handleConsent},null,8,["onConsentDecided"])):(d(),g("div",T,[e("div",H,[e("div",N,[o[3]||(o[3]=e("div",{class:"golden-accent top-accent"},null,-1)),o[4]||(o[4]=e("div",{class:"golden-accent bottom-accent"},null,-1)),e("div",z,[e("img",{src:n.logoSrc,alt:"Pravis Handlooms",class:"hero-logo",onError:o[0]||(o[0]=(...i)=>s.handleLogoError&&s.handleLogoError(...i)),onLoad:o[1]||(o[1]=(...i)=>s.handleLogoLoad&&s.handleLogoLoad(...i))},null,40,B)]),o[5]||(o[5]=f('<h1 class="font-display text-6xl font-bold text-pravis-500 mb-6 hero-title" data-v-0e0d2529> Pravis Handlooms </h1><p class="text-2xl text-black mb-12 max-w-3xl mx-auto leading-relaxed" data-v-0e0d2529> Discover the finest handwoven treasures with our AI-powered voice agent <span class="text-pravis-600 font-bold handloom-highlight" data-v-0e0d2529>&quot;Ask Pravi&quot;</span> - Your personal handloom curator </p><div class="flex flex-col sm:flex-row gap-6 justify-center items-center" data-v-0e0d2529><button class="handloom-btn primary-btn px-10 py-4" data-v-0e0d2529> üßµ Browse Handlooms </button><button class="handloom-btn secondary-btn px-10 py-4" data-v-0e0d2529> üó£Ô∏è Ask Pravi </button></div>',3))])]),o[7]||(o[7]=f('<div class="features-section bg-gradient-to-br from-pravis-50 to-white py-20" data-v-0e0d2529><div class="container mx-auto px-4" data-v-0e0d2529><h2 class="font-display text-4xl font-bold text-pravis-500 text-center mb-16" data-v-0e0d2529> Handcrafted Excellence Meets AI Innovation </h2><div class="grid md:grid-cols-3 gap-12" data-v-0e0d2529><div class="handloom-card text-center" data-v-0e0d2529><div class="handloom-icon-wrapper" data-v-0e0d2529><div class="text-5xl mb-6" data-v-0e0d2529>üßµ</div></div><h3 class="font-display text-2xl font-bold mb-4 text-black" data-v-0e0d2529>Artisan Curation</h3><p class="text-black leading-relaxed" data-v-0e0d2529>AI-powered recommendations featuring authentic handloom pieces from master artisans</p></div><div class="handloom-card text-center" data-v-0e0d2529><div class="handloom-icon-wrapper" data-v-0e0d2529><div class="text-5xl mb-6" data-v-0e0d2529>üé®</div></div><h3 class="font-display text-2xl font-bold mb-4 text-black" data-v-0e0d2529>Voice Discovery</h3><p class="text-black leading-relaxed" data-v-0e0d2529>Describe your style to Ask Pravi and discover perfect handloom matches effortlessly</p></div><div class="handloom-card text-center" data-v-0e0d2529><div class="handloom-icon-wrapper" data-v-0e0d2529><div class="text-5xl mb-6" data-v-0e0d2529>‚ú®</div></div><h3 class="font-display text-2xl font-bold mb-4 text-black" data-v-0e0d2529>Heritage &amp; Modern</h3><p class="text-black leading-relaxed" data-v-0e0d2529>Traditional craftsmanship enhanced with modern shopping convenience</p></div></div></div></div>',1)),e("button",{class:"voice-agent-button handloom-floating-btn",onClick:o[2]||(o[2]=(...i)=>s.activateVoiceAgent&&s.activateVoiceAgent(...i))},o[6]||(o[6]=[e("span",{class:"btn-icon"},"üé§",-1),e("span",{class:"btn-text"},"Ask Pravi",-1)]))]))])}const q=x(V,[["render",M],["__scopeId","data-v-0e0d2529"]]);export{q as default};
